(this["webpackJsonpslippi-stats"]=this["webpackJsonpslippi-stats"]||[]).push([[0],{127:function(e,t){},156:function(e,t){},158:function(e,t){},176:function(e,t,n){},177:function(e,t,n){"use strict";n.r(t);n(99);var r,a=n(0),o=n.n(a),c=n(88),i=n.n(c),u=n(96),l=n(27),s=n(7),d=n(4),f=n(9);!function(e){e.ADD_GAME="ADD_GAME",e.SET_ERROR="SET_ERROR",e.ADD_FILE="ADD_FILE",e.REMOVE_FILE="REMOVE_FILE"}(r||(r={}));var m={files:[]},b=Object(a.createContext)({state:m,dispatch:function(){return null}}),p=function(e,t){return function(e,t){switch(t.type){case r.ADD_GAME:var n=t.payload,a=n.filename,o=n.details,c=e.files,i=c.findIndex((function(e){return e.filename===a}));return-1!==i&&(c[i].details=o,c[i].loading=!1),Object(f.a)(Object(f.a)({},e),{},{files:c});case r.SET_ERROR:var u=t.payload,l=u.filename,s=u.error,d=e.files,m=d.findIndex((function(e){return e.filename===l}));return-1!==m&&(d[m].error=s,d[m].loading=!1),Object(f.a)(Object(f.a)({},e),{},{files:d});case r.ADD_FILE:var b=t.payload.filename,p=e.files;return Boolean(p.find((function(e){return e.filename===b})))||p.push({filename:b,loading:!0,details:null}),Object(f.a)(Object(f.a)({},e),{},{files:p});case r.REMOVE_FILE:var g=t.payload.filename,v=e.files.filter((function(e){return e.filename!==g}));return Object(f.a)(Object(f.a)({},e),{},{files:v});default:return e}}(e,t)},g=function(e){var t=e.children,n=Object(a.useReducer)(p,m),r=Object(d.a)(n,2),c=r[0],i=r[1];return o.a.createElement(b.Provider,{value:{state:c,dispatch:i}},t)},v=n(2),h=n(1),O=n(6);function j(){var e=Object(v.a)(['\n  text-transform: uppercase;\n  font-weight: 800;\n  font-size: 5.5rem;\n  margin: 2rem;\n  padding-bottom: 1rem;\n  position: relative;\n\n  &::before {\n    z-index: -1;\n    content: "";\n    display: block;\n    background-image: linear-gradient(to right, transparent, rgba(255, 255, 255, 0.2), transparent);\n    height: 0.1rem;\n    position: absolute;\n    width: 80%;\n    margin-left: 50%;\n    transform: translateX(-50%);\n    bottom: 0;\n  }\n']);return j=function(){return e},e}var E=O.a.h1(j()),y=n(10),x=n.n(y),w=n(24),k=n(97);function P(){var e=Object(v.a)(["\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  padding: 20px;\n  border-width: 2px;\n  border-color: ",";\n  border-style: dashed;\n  background-color: rgba(0, 0, 0, 0.3);\n  color: white;\n  outline: none;\n  transition: border 0.24s ease-in-out;\n  p {\n    text-transform: uppercase;\n    font-weight: bold;\n  }\n"]);return P=function(){return e},e}var C=O.a.div(P(),(function(e){return function(e){return e.isDragAccept?"#00e676":e.isDragActive?"#2196f3":"#eeeeee"}(e)})),I=function(e){var t=Object(k.a)(e),n=t.getRootProps,r=t.getInputProps,a=t.isDragActive,c=t.isDragAccept,i=t.isDragReject;return o.a.createElement(C,n({isDragActive:a,isDragAccept:c,isDragReject:i}),o.a.createElement("input",r()),o.a.createElement("p",null,"Drag SLP files here or click to select"))},S=n(13);function R(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"-";return e.toLowerCase().replace(/[. &]+/gi,t)}function N(e,t){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Default",n=R(e),r=R(t);return"".concat(".","/images/characters/").concat(n,"/").concat(r)}(S.characters.getCharacterName(+e),t)}function L(e,t){var n=N(e,t);return"".concat(n,"/portrait.png")}function A(){var e=Object(v.a)(["\n            font-size: 1.6rem;\n          "]);return A=function(){return e},e}function _(){var e=Object(v.a)(["\n        padding: 1.5rem 2rem;\n        display: flex;\n        justify-content: space-between;\n        align-items: center;\n        background-color: rgba(0, 0, 0, 0.3);\n      "]);return _=function(){return e},e}var D=function(e){var t=e.onRemove,n=e.name,r=e.children;return Object(h.d)("div",{css:Object(h.c)(_())},Object(h.d)("div",null,Object(h.d)("div",{css:Object(h.c)(A())},n),Object(h.d)("div",null,r)),t&&Object(h.d)("button",{onClick:t},"x"))},T=function(e){var t=e.file,n=e.onRemove,r=t.filename,a=t.loading,o=t.error,c=t.details;if(a)return Object(h.d)(D,{name:r}," loading...");if(o||!c)return Object(h.d)(D,{onRemove:n,name:r},"error :c");var i=c.settings.players.map((function(e){var t=e.characterId,n=function(e,t){var n=N(e,t);return"".concat(n,"/stock.png")}(t,S.characters.getCharacterColorName(t,e.characterColor));return Object(h.d)("img",{key:"".concat(e.port,"-icon"),src:n})}));return Object(h.d)(D,{onRemove:n,name:r},i)};function M(){var e=Object(v.a)(["\n        display: grid;\n        grid-template-columns: 100%;\n        grid-row-gap: 1rem;\n        max-height: 500px;\n        overflow-y: auto;\n      "]);return M=function(){return e},e}var B,U=function(e){var t=e.files,n=e.onRemove;return Object(h.d)("div",{css:Object(h.c)(M())},t.map((function(e){return Object(h.d)(T,{key:e.filename,file:e,onRemove:function(){return n(e.filename)}})})))},G=n(19),F=n(36),K=n(45);function z(e){switch(e){case 1:return B.P1;case 2:return B.P2;case 3:return B.P3;case 4:return B.P4;default:return B.P1}}!function(e){e.P1="#f52e2e",e.P2="#5463ff",e.P3="#ffc717",e.P4="#1f9e40"}(B||(B={}));var V=function(e,t){var n=t.settings,r=t.metadata,a=e-1,o=n.players.find((function(e){return e.playerIndex===a})),c=o?o.nametag:null,i=Object(K.get)(r,["players",a,"names","netplay"],null);return[c||i||"",Object(K.get)(r,["players",a,"names","code"],null)||""]};var W=n(68);function H(){var e=Object(v.a)(["\n        display: grid;\n        grid-template-columns: 100%;\n        grid-row-gap: 1rem;\n      "]);return H=function(){return e},e}function Y(){var e=Object(v.a)(["\n  background: #286163;\n  border: none;\n  color: inherit;\n  cursor: pointer;\n  font: inherit;\n  padding: 1rem 0rem;\n  width: 100%;\n  font-weight: 700;\n  font-size: 3rem;\n  &:disabled {\n    opacity: 0.65;\n    cursor: not-allowed;\n  }\n"]);return Y=function(){return e},e}var J=O.a.button(Y()),X=function(){var e=Object(s.e)(),t=Object(a.useContext)(b),n=t.state,o=t.dispatch,c=Object(a.useCallback)((function(e){var t=(new Date).getTime(),n=e.map(function(){var e=Object(w.a)(x.a.mark((function e(t){var n,a;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o({type:r.ADD_FILE,payload:{filename:t.name}}),e.prev=1,e.next=4,Object(W.b)(t);case 4:n=e.sent,a=Object(W.a)(t.name,n),o({type:r.ADD_GAME,payload:{filename:t.name,game:n,details:a}}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),o({type:r.SET_ERROR,payload:{filename:t.name,error:e.t0}});case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}());Promise.all(n).then((function(){var e=(new Date).getTime()-t;console.log("Finished processing in ".concat(e,"ms"))}))}),[o]),i=!n.files.find((function(e){return e.loading})),u=0===n.files.length?"NO FILES ADDED":i?"COMPUTE STATS":"PLEASE WAIT";return Object(h.d)("div",{css:Object(h.c)(H())},Object(h.d)(I,{accept:".slp",onDrop:c}),Object(h.d)(U,{files:n.files,onRemove:function(e){o({type:r.REMOVE_FILE,payload:{filename:e}})}}),Object(h.d)(J,{disabled:0===n.files.length||!i,onClick:function(){var t="?"+function(e){var t=Object(F.b)(e);if(!t||0===t.length)throw new Error("No valid games");var n=Object(F.a)(t),r=n.games,a=n.summary,o={},c=r[r.length-1],i=c.players[0],u=c.players[1];o.leftColor=z(i.port),o.rightColor=z(u.port),o.char1=i.characterId,o.char2=u.characterId,o.color1=i.characterColor,o.color2=u.characterColor;var l=t[t.length-1],s=V(i.port,l),f=Object(d.a)(s,2),m=f[0],b=f[1],p=V(u.port,l),g=Object(d.a)(p,2),v=g[0],h=g[1];o.name1=m.toUpperCase(),o.name2=v.toUpperCase(),o.sub1=b,o.sub2=h,o.gt=r.length;var O=0,j=0;return r.forEach((function(e,t){console.log("processing game: ",e);var n="g".concat(t+1),r=e.stage.id,a=e.duration,c=e.players.map((function(e){return[e.characterId,e.characterColor,e.gameResult].join(",")})),i=[r,a].concat(Object(G.a)(c)).join(",");console.log("".concat(n," : ").concat(i)),o[n]=i,"winner"===e.players[0].gameResult?O+=1:"winner"===e.players[1].gameResult&&(j+=1)})),o.score="".concat(O," - ").concat(j),a.forEach((function(e){switch(e.id){case"openingsPerKill":o.opk1=e.results[0].simple.text,o.opk2=e.results[1].simple.text;break;case"damagePerOpening":o.dpo1=e.results[0].simple.text,o.dpo2=e.results[1].simple.text;break;case"neutralWins":o.nw1=e.results[0].simple.text,o.nw2=e.results[1].simple.text;break;case"killMoves":console.log(e);var t=e.results[0].result[0],n=e.results[1].result[0];o.mckm1="".concat(t.shortName.toUpperCase()," - ").concat(t.count),o.mckm2="".concat(n.shortName.toUpperCase()," - ").concat(n.count);break;case"neutralOpenerMoves":var r=e.results[0].result[0],a=e.results[1].result[0];o.mcno1="".concat(r.shortName.toUpperCase()," - ").concat(r.count),o.mcno2="".concat(a.shortName.toUpperCase()," - ").concat(a.count);break;case"inputsPerMinute":o.ipm1=e.results[0].simple.text,o.ipm2=e.results[1].simple.text;break;case"avgKillPercent":o.akp1=e.results[0].simple.text,o.akp2=e.results[1].simple.text;break;case"damageDone":o.tdd1=e.results[0].simple.text,o.tdd2=e.results[1].simple.text}})),console.log("returning these params: ",o),new URLSearchParams(o)}(n.files.filter((function(e){return null!==e.details})).map((function(e){return e.details}))).toString();e.push({pathname:"/render",search:t})}},u))};function $(e,t){return Math.random()*(t-e)+e}function q(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e+1))+e}function Q(){var e={name1:"FOLLOW",name2:"ON",sub1:"@_vinceau",sub2:"TWITTER"},t=Z(),n=Object(d.a)(t,2),r=n[0],a=n[1],o=Z(),c=Object(d.a)(o,2),i=c[0],u=c[1];e.char1=r,e.color1=a,e.char2=i,e.color2=u;var l=0,s=0,f=q(3,5);e.gt=f;for(var m=1;m<=f;m++){var b="g".concat(m),p=Math.random()<.5,g=te([[r,a,p?"winner":"loser"].join(","),[i,u,p?"loser":"winner"].join(",")]);e[b]=g,p?l+=1:s+=1}return e.score="".concat(l," - ").concat(s),["mckm1","mckm2","mcno1","mcno2"].forEach((function(t){e[t]=function(){var e=q(7,21),t=S.moves.getMoveShortName(e).toUpperCase();return"".concat(t," - ").concat(e)}()})),["opk1","opk2"].forEach((function(t){e[t]=$(5,15).toFixed(1)})),["tdd1","tdd2"].forEach((function(t){e[t]=$(1e3,2e3).toFixed(1)})),["akp1","akp2"].forEach((function(t){e[t]=$(50,200).toFixed(1)})),["nw1","nw2"].forEach((function(t){e[t]=q(30,80)})),e}function Z(){var e=q(0,25),t=S.characters.getCharacterInfo(e),n=q(0,t.colors.length-1);return[e,t.colors[n]]}var ee=[2,3,8,28,31,32];function te(e){return[function(){var e=q(0,ee.length-1);return ee[e]}(),function(){var e=q(0,7),t=String(q(0,60)).padStart(2,"0");return"".concat(e,":").concat(t)}()].concat(Object(G.a)(e)).join(",")}function ne(){var e=Object(v.a)(["\n        body.themed {\n          background: radial-gradient(circle at center -30%, ",", ",");\n        }\n      "]);return ne=function(){return e},e}var re={primaryColor:"#286163",secondaryColor:"#121020"},ae=function(e){var t=e.primaryColor,n=e.secondaryColor;return Object(h.d)(h.a,{styles:Object(h.c)(ne(),t,n)})};function oe(){var e=Object(v.a)(["\n        margin: 0 12rem;\n        display: flex;\n        flex-direction: column;\n        align-items: center;\n      "]);return oe=function(){return e},e}var ce=function(){var e=Object(s.e)();return Object(h.d)("div",{css:Object(h.c)(oe())},Object(h.d)(ae,re),Object(h.d)(E,null,"Slippi Stats"),Object(h.d)("button",{onClick:function(){var t=Q(),n="?"+new URLSearchParams(t).toString();e.push({pathname:"/render",search:n})}},"randomize"),Object(h.d)(X,null))};n(8);function ie(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=Object(a.useState)(t),r=Object(d.a)(n,2),o=r[0],c=r[1],i=Object(s.e)(),u=Object(s.f)();Object(a.useEffect)((function(){var n=new URLSearchParams(u.search).get(e);n!==o&&c(n||t)}),[e,t,u,o]);var l=function(t){var n=new URLSearchParams(u.search);n.set(e,t);var r="?"+n.toString();i.push({pathname:u.pathname,search:r})};return[o,l]}function ue(e){var t=Object(a.useState)(!1),n=Object(d.a)(t,2),r=n[0],o=n[1];return Object(a.useEffect)((function(){function t(t){t.key===e&&o(!0)}var n=function(t){t.key===e&&o(!1)};return window.addEventListener("keydown",t),window.addEventListener("keyup",n),function(){window.removeEventListener("keydown",t),window.removeEventListener("keyup",n)}}),[e]),r}function le(){var e=Object(v.a)(["\n        height: 80%;\n        width: 100%;\n        position: relative;\n        background: radial-gradient(circle at center -30%, ",", transparent);\n        &::after {\n          content: ' ';\n          position: absolute;\n          height: 100%;\n          width: 100%;\n          background-image: url(\"",'");\n          background-repeat: no-repeat;\n          background-size: cover;\n          background-position: top ',";\n        }\n      "]);return le=function(){return e},e}var se=["19","5"];var de=function(e){var t=e.colorParam,n=e.charParam,r=e.align,a=e.theme,o=ie(t),c=Object(d.a)(o,1)[0],i=ie(n),u=Object(d.a)(i,1)[0],l="left"===r?"right":"left",s=function(e,t,n){var r=N(t,n);return"".concat(r,"/vs-").concat(e,".png")}(l,u,c),f=function(e,t,n){return"left"===e?n:se.includes(t)?"right":n}(l,u,r);return Object(h.d)("div",{css:Object(h.c)(le(),a,s,f)})};function fe(){var e=Object(v.a)(["\n  color: ",";\n  background-color: ",";\n  text-align: center;\n  padding: 0.3em 0;\n  font-size: 1.2em;\n  box-shadow: 0.2em 0.2em 0.2em black;\n  ",";\n"]);return fe=function(){return e},e}var me=O.a.div(fe(),(function(e){return e.color}),(function(e){return e.backgroundColor}),(function(e){return e.optional&&"\n  opacity: ".concat(e.show?1:0,";\n  transition: opacity 0.1s ease-in-out;\n  &:hover {\n    opacity: 1;\n  }\n  ")})),be=(n(176),function(e){var t,n,r=e.text,c=e.onSetText,i=e.textAlign,u=Object(a.useState)(!1),l=Object(d.a)(u,2),s=l[0],f=l[1],m=Object(a.useState)(r),b=Object(d.a)(m,2),p=b[0],g=b[1],v=Object(a.useRef)(null),h=Object(a.useRef)(null),O=Object(a.useRef)(null),j=ue("Tab"),E=ue("Enter"),y=ue("Escape");return Object(a.useEffect)((function(){g(r)}),[r]),t=v,n=function(){s&&(c(p),f(!1))},Object(a.useEffect)((function(){var e=function(e){t.current&&!t.current.contains(e.target)&&n(e)};return document.addEventListener("mousedown",e),document.addEventListener("touchstart",e),function(){document.removeEventListener("mousedown",e),document.removeEventListener("touchstart",e)}}),[t,n]),Object(a.useEffect)((function(){s&&O.current&&O.current.focus()}),[s]),Object(a.useEffect)((function(){s&&((E||j)&&(c(p),f(!1)),y&&(g(e.text),f(!1)))}),[j,E,y,s,c,p,e.text]),o.a.createElement("span",{className:"inline-text",ref:v},o.a.createElement("span",{ref:h,onClick:function(){return f(!0)},className:"inline-text_copy inline-text_copy--".concat(s?"hidden":"active")},e.text),o.a.createElement("input",{ref:O,style:{textAlign:i,maxWidth:"100%"},value:p,onChange:function(e){g(e.target.value)},className:"inline-text_input inline-text_input--".concat(s?"active":"hidden")}))});be.defaultProps={text:"",onSetText:function(){}};var pe=function(e){var t=e.optional,n=e.onEdit,r=e.backgroundColor,a=e.value,o=e.color,c=n?Object(h.d)(be,{text:a,onSetText:n}):a;return Object(h.d)(me,{optional:t,show:Boolean(a),color:o,backgroundColor:r},c)};function ge(){var e=Object(v.a)(["\n  margin-top: -0.3rem;\n  margin-left: auto;\n  margin-right: auto;\n  width: 80%;\n"]);return ge=function(){return e},e}function ve(){var e=Object(v.a)(["\n  font-size: 150%;\n  font-weight: 800;\n"]);return ve=function(){return e},e}var he=O.a.div(ve()),Oe=O.a.div(ge()),je=function(e){var t=e.nameParam,n=e.defaultName,r=e.subtitleParam,a=e.primaryColor,o=e.secondaryColor,c=ie(t,n),i=Object(d.a)(c,2),u=i[0],l=i[1],s=ie(r),f=Object(d.a)(s,2),m=f[0],b=f[1];return Object(h.d)("div",null,Object(h.d)(he,null,Object(h.d)(pe,{value:u,onEdit:l,color:"white",backgroundColor:a})),Object(h.d)(Oe,null,Object(h.d)(pe,{value:m,optional:!0,onEdit:b,color:o,backgroundColor:"white"})))};function Ee(){var e=Object(v.a)(["\n  padding: 0.5rem 4rem;\n  font-size: 5rem;\n  font-weight: 800;\n"]);return Ee=function(){return e},e}var ye=Object(O.a)(me)(Ee()),xe=function(e){var t=ie("score","0 - 0"),n=Object(d.a)(t,2),r=n[0],a=n[1];return Object(h.d)(ye,{color:"white",backgroundColor:e.primaryColor},Object(h.d)(be,{text:r,onSetText:a}))},we=n(46);function ke(){var e=Object(v.a)(["\n  ","\n"]);return ke=function(){return e},e}function Pe(){var e=Object(v.a)(['\n  height: 100%;\n  width: 100%;\n  position: absolute;\n  &::after {\n    content: " ";\n    height: 100%;\n    background-repeat: no-repeat;\n    background-size: cover;\n    position: absolute;\n  }\n']);return Pe=function(){return e},e}function Ce(){var e=Object(v.a)(["\n  position: relative;\n  display: block;\n  border: solid 0.1rem rgba(255, 255, 255, 0.3);\n  height: 5rem;\n  width: 100%;\n  max-width: 10rem;\n"]);return Ce=function(){return e},e}var Ie=O.a.div(Ce()),Se=O.a.div(Pe()),Re=Object(O.a)(Se)(ke(),(function(e){var t=100-e.waypoint;return"\n      ".concat("right"===e.side?"clip-path: polygon(".concat(e.waypoint,"% 0, 100% 0, 100% 100%, ").concat(t,"% 100%);"):"","\n      ").concat(e.dim?"filter: brightness(25%);":"","\n      ").concat(e.backgroundColor?"background: radial-gradient(circle at center -30%, ".concat(e.backgroundColor,", black);"):"","\n      &::after {\n        width: ").concat(e.waypoint,'%;\n        background-image: url("').concat(e.imageSrc,'");\n        background-position: top ').concat(e.side,";\n        ").concat("right"===e.side?"left: ".concat(t,"%;"):"transform: scaleX(-1);","\n      }\n    ")})),Ne=function(e){var t=e.char1,n=e.color1,r=e.result1,a=e.char2,o=e.color2,c=e.result2,i=e.leftColor,u=e.rightColor,l=L(t,n),s=L(a,o);return Object(h.d)(Ie,null,Object(h.d)(Re,{backgroundColor:i,imageSrc:l,waypoint:55,side:"left",dim:"loser"===r}),Object(h.d)(Re,{backgroundColor:u,imageSrc:s,waypoint:55,side:"right",dim:"loser"===c}))};function Le(){var e=Object(v.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  position: relative;\n  height: 9rem;\n  width: 100%;\n  border: solid 1px rgba(255, 255, 255, 0.3);\n  z-index: 0;\n\n  &::after {\n    content: ' ';\n    height: 100%;\n    width: 100%;\n    position: absolute;\n    top: 0;\n    left: 0;\n    background-image: url(\"",'");\n    background-repeat: no-repeat;\n    background-size: 105% auto;\n    background-position: center;\n    filter: blur(2px) brightness(30%);\n    z-index: -1;\n  }\n']);return Le=function(){return e},e}function Ae(){var e=Object(v.a)(["\n  font-size: 2.5rem;\n  font-weight: bold;\n  opacity: 0.7;\n  text-shadow: 2px 2px 2px black;\n"]);return Ae=function(){return e},e}var _e=O.a.span(Ae()),De=O.a.div(Le(),(function(e){return e.src})),Te=function(e){var t=e.stageId,n=e.duration,r=function(e){var t=S.stages.getStageName(+e);return"".concat(".","/images/stages/").concat(t,".png")}(t);return Object(h.d)(De,{src:r},Object(h.d)(_e,null,n))};function Me(){var e=Object(v.a)(["\n        display: grid;\n        grid-template-columns: 100%;\n        justify-items: center;\n        width: 100%;\n        max-width: 18rem;\n        grid-row-gap: 2rem;\n      "]);return Me=function(){return e},e}var Be=function(e){var t=e.stageId,n=e.duration,r=Object(we.a)(e,["stageId","duration"]);return Object(h.d)("div",{css:Object(h.c)(Me())},Object(h.d)(Ne,r),Object(h.d)(Te,{stageId:t,duration:n}))};function Ue(){var e=Object(v.a)(["\n        display: grid;\n        grid-column-gap: 2rem;\n        grid-template-columns: repeat(",", 1fr);\n        justify-items: center;\n      "]);return Ue=function(){return e},e}var Ge=function(e){var t=e.index,n=e.leftColor,r=e.rightColor,a=ie("g".concat(t)),o=Object(d.a)(a,1)[0];if(!o)return null;var c=o.split(","),i=Object(d.a)(c,8),u=i[0],l=i[1],s=i[2],f=i[3],m=i[4],b=i[5],p=i[6],g=i[7];return Object(h.d)(Be,{stageId:u,duration:l,char1:s,color1:f,result1:m,char2:b,color2:p,result2:g,leftColor:n,rightColor:r})},Fe=function(e){for(var t=ie("gt"),n=Object(d.a)(t,1)[0],r=parseInt(n,10)||0,a=[],o=1;o<=r;o++)a.push(Object(h.d)(Ge,{key:"g".concat(o),index:o,leftColor:e.leftColor,rightColor:e.rightColor}));return Object(h.d)("div",{css:Object(h.c)(Ue(),r)},a)};function Ke(){var e=Object(v.a)(["\n          justify-self: end;\n          text-align: right;\n        "]);return Ke=function(){return e},e}function ze(){var e=Object(v.a)(["\n          justify-self: start;\n        "]);return ze=function(){return e},e}function Ve(){var e=Object(v.a)(['\n  display: grid;\n  grid-template-columns: 20% 60% 20%;\n  width: 100%;\n  align-items: center;\n  position: relative;\n\n  &::before {\n    z-index: -1;\n    content: "";\n    display: block;\n    background-image: linear-gradient(to right, transparent, rgba(255, 255, 255, 0.4), transparent);\n    height: 0.1rem;\n    position: absolute;\n    width: 80%;\n    margin-left: 50%;\n    transform: translate(-50%, -50%);\n  }\n']);return Ve=function(){return e},e}function We(){var e=Object(v.a)(["\n  width: 100%;\n  font-weight: 800;\n  font-size: ",";\n"]);return We=function(){return e},e}function He(){var e=Object(v.a)(["\n  text-align: center;\n  background-color: ",";\n  color: ",";\n  padding: 0.3em 2.5em;\n  font-weight: 700;\n  font-size: 1.2em;\n  box-shadow: 0.2em 0.2em 0.2em black;\n  justify-self: center;\n  z-index: 1;\n"]);return He=function(){return e},e}var Ye=O.a.div(He(),(function(e){return e.labelBackground}),(function(e){return e.labelColor})),Je=O.a.div(We(),(function(e){return"text"===e.type?"1.4em":"2.3em"})),Xe=O.a.div(Ve()),$e=function(e){var t=e.type,n=e.label,r=e.leftText,a=e.rightText,o=e.labelBackground,c=e.labelColor;return Object(h.d)(Xe,null,Object(h.d)(Je,{type:t,css:Object(h.c)(ze())},Object(h.d)(be,{text:r,onSetText:e.onLeftTextBlur})),Object(h.d)(Ye,{labelBackground:o,labelColor:c},n),Object(h.d)(Je,{type:t,css:Object(h.c)(Ke())},Object(h.d)(be,{text:a,textAlign:"right",onSetText:e.onRightTextBlur})))};$e.defaultProps={type:"number",labelColor:"black",labelBackground:"white",onLeftTextBlur:function(){},onRightTextBlur:function(){}};var qe=function(e){var t=e.param1,n=e.param2,r=e.label,a=e.type,c=e.primaryColor,i=e.secondaryColor,u="number"===a?"0":"-",l=ie(t,u),s=Object(d.a)(l,2),f=s[0],m=s[1],b=ie(n,u),p=Object(d.a)(b,2),g=p[0],v=p[1],h="number"===a?i:"white",O="number"===a?"white":c;return o.a.createElement($e,{type:a,leftText:f,onLeftTextBlur:function(e){return m(e)},label:r,rightText:g,onRightTextBlur:function(e){return v(e)},labelColor:h,labelBackground:O})};qe.defaultProps={type:"number"};var Qe=function(e){return o.a.createElement(qe,Object.assign({type:"text",param1:"mckm1",param2:"mckm2",label:"MOST COMMON KILL MOVE"},e))},Ze=function(e){return o.a.createElement(qe,Object.assign({type:"text",param1:"mcno1",param2:"mcno2",label:"MOST COMMON NEUTRAL OPENER"},e))},et=function(e){return o.a.createElement(qe,Object.assign({param1:"akp1",param2:"akp2",label:"AVERAGE KILL PERCENT"},e))},tt=function(e){return o.a.createElement(qe,Object.assign({param1:"nw1",param2:"nw2",label:"NEUTRAL WINS"},e))},nt=function(e){return o.a.createElement(qe,Object.assign({param1:"opk1",param2:"opk2",label:"OPENINGS / KILL"},e))},rt=function(e){return o.a.createElement(qe,Object.assign({param1:"tdd1",param2:"tdd2",label:"TOTAL DAMAGE DONE"},e))};function at(){var e=Object(v.a)(["\n          display: grid;\n          grid-template-columns: 100%;\n          grid-row-gap: 2rem;\n          margin: 4rem;\n        "]);return at=function(){return e},e}function ot(){var e=Object(v.a)(["\n        background: linear-gradient(to right, ",", transparent, ",");\n        width: 100%;\n      "]);return ot=function(){return e},e}function ct(){var e=Object(v.a)(['\n  content: " ";\n  display: block;\n  height: 0.1rem;\n  width: 100%;\n  margin-top: 0.7rem;\n  background-color: rgba(255, 255, 255, 0.05);\n']);return ct=function(){return e},e}var it=O.a.div(ct()),ut=function(e){var t=e.leftColor,n=e.rightColor,r=Object(we.a)(e,["leftColor","rightColor"]);return Object(h.d)("div",{css:Object(h.c)(ot(),e.secondaryColor,e.secondaryColor)},Object(h.d)("div",{css:Object(h.c)(at())},Object(h.d)(Qe,r),Object(h.d)(Ze,r),Object(h.d)(it,null),Object(h.d)(nt,r),Object(h.d)(rt,r),Object(h.d)(et,r),Object(h.d)(tt,r),Object(h.d)(it,null),Object(h.d)(Fe,{leftColor:t,rightColor:n})))};function lt(){var e=Object(v.a)(["\n          position: absolute;\n          bottom: -6rem;\n          width: 100%;\n          display: flex;\n          justify-content: center;\n        "]);return lt=function(){return e},e}function st(){var e=Object(v.a)(["\n              width: 20%;\n            "]);return st=function(){return e},e}function dt(){var e=Object(v.a)(["\n              width: 20%;\n            "]);return dt=function(){return e},e}function ft(){var e=Object(v.a)(["\n            width: 100%;\n            display: flex;\n            justify-content: space-between;\n            align-items: center;\n          "]);return ft=function(){return e},e}function mt(){var e=Object(v.a)(["\n          position: absolute;\n          bottom: 15%;\n          display: inline-flex;\n          width: 98%;\n          margin: 0 1%;\n        "]);return mt=function(){return e},e}function bt(){var e=Object(v.a)(["\n          width: 100%;\n        "]);return bt=function(){return e},e}function pt(){var e=Object(v.a)(["\n          justify-self: end;\n          width: 100%;\n        "]);return pt=function(){return e},e}function gt(){var e=Object(v.a)(["\n  position: relative;\n  width: 100%;\n  display: grid;\n  grid-template-columns: 20% 60% 20%;\n"]);return gt=function(){return e},e}var vt=O.a.div(gt()),ht=function(e){var t=ie("leftColor",B.P1),n=Object(d.a)(t,1)[0],r=ie("rightColor",B.P2),a=Object(d.a)(r,1)[0];return Object(h.d)(vt,null,Object(h.d)("div",{css:Object(h.c)(pt())},Object(h.d)(de,{theme:n,charParam:"char1",colorParam:"color1",align:"right"})),Object(h.d)(ut,Object.assign({leftColor:n,rightColor:a},e)),Object(h.d)("div",{css:Object(h.c)(bt())},Object(h.d)(de,{theme:a,charParam:"char2",colorParam:"color2",align:"left"})),Object(h.d)("div",{css:Object(h.c)(mt())},Object(h.d)("div",{css:Object(h.c)(ft())},Object(h.d)("div",{css:Object(h.c)(dt())},Object(h.d)(je,Object.assign({nameParam:"name1",subtitleParam:"sub1",defaultName:"Player"},e))),Object(h.d)("div",{css:Object(h.c)(st())},Object(h.d)(je,Object.assign({nameParam:"name2",subtitleParam:"sub2",defaultName:"Player"},e))))),Object(h.d)("div",{css:Object(h.c)(lt())},Object(h.d)(xe,{primaryColor:e.primaryColor})))},Ot=n(95),jt=n.n(Ot);function Et(){var e=Object(v.a)(["\n              max-height: 5rem;\n            "]);return Et=function(){return e},e}function yt(){var e=Object(v.a)(["\n          margin-bottom: 2rem;\n        "]);return yt=function(){return e},e}function xt(){var e=Object(v.a)(["\n        margin: 0 12rem;\n        display: flex;\n        flex-direction: column;\n        align-items: center;\n      "]);return xt=function(){return e},e}var wt=function(){var e=ie("primaryColor",re.primaryColor),t=Object(d.a)(e,1)[0],n=ie("secondaryColor",re.secondaryColor),r=Object(d.a)(n,1)[0];return Object(h.d)("div",{css:Object(h.c)(xt())},Object(h.d)(ae,{primaryColor:t,secondaryColor:r}),Object(h.d)(l.b,{to:"/",style:{textDecoration:"inherit",color:"inherit"},title:"Back to homepage"},Object(h.d)(E,null,"Post Match Stats")),Object(h.d)("div",{css:Object(h.c)(yt())},Object(h.d)("a",{href:"https://slippi.gg",target:"_blank",rel:"noopener noreferrer"},Object(h.d)("img",{alt:"Powered by Slippi",title:"Open Slippi.gg homepage",src:jt.a,css:Object(h.c)(Et())}))),Object(h.d)(ht,{primaryColor:t,secondaryColor:r}))},kt=Object(u.hot)((function(){return o.a.createElement(g,null,o.a.createElement(l.a,{basename:"/"},o.a.createElement(s.a,{exact:!0,path:"/",component:ce}),o.a.createElement(s.a,{path:"/render",component:wt})))}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(kt,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},36:function(e,t,n){"use strict";n.d(t,"b",(function(){return v})),n.d(t,"a",(function(){return y}));var r,a=n(9),o=n(8),c=n(13),i=c.stages,u=c.moves,l=c.characters,s=n(44),d=n(45),f={OPENINGS_PER_KILL:"openingsPerKill",DAMAGE_PER_OPENING:"damagePerOpening",NEUTRAL_WINS:"neutralWins",KILL_MOVES:"killMoves",NEUTRAL_OPENER_MOVES:"neutralOpenerMoves",EARLY_KILLS:"earlyKills",LATE_DEATHS:"lateDeaths",SELF_DESTRUCTS:"selfDestructs",INPUTS_PER_MINUTE:"inputsPerMinute",AVG_KILL_PERCENT:"avgKillPercent",HIGH_DAMAGE_PUNISHES:"highDamagePunishes",DAMAGE_DONE:"damageDone"},m=(r={},Object(o.a)(r,f.OPENINGS_PER_KILL,{id:f.OPENINGS_PER_KILL,name:"Openings / Kill",type:"number",betterDirection:"lower",recommendedRounding:1,calculate:function(e,t){return b(e,t,"openingsPerKill",1)}}),Object(o.a)(r,f.DAMAGE_PER_OPENING,{id:f.DAMAGE_PER_OPENING,name:"Damage / Opening",type:"number",betterDirection:"higher",recommendedRounding:1,calculate:function(e,t){return b(e,t,"damagePerOpening",1)}}),Object(o.a)(r,f.NEUTRAL_WINS,{id:f.NEUTRAL_WINS,name:"Neutral Wins",type:"number",betterDirection:"higher",recommendedRounding:0,calculate:function(e,t){return b(e,t,"neutralWinRatio",0,"count")}}),Object(o.a)(r,f.KILL_MOVES,{id:f.KILL_MOVES,name:"Most Common Kill Move",type:"text",calculate:function(e,t){var n=d.flatMap(e,(function(e){var n=d.get(e,["stats","conversions"])||[],r=d.filter(n,(function(e){var n=e.playerIndex===t,r=e.didKill;return n&&r}));return d.map(r,(function(e){return d.last(e.moves)}))})),r=d.groupBy(n,"moveId"),a=d.map(r,(function(e){var t=d.first(e);return{count:e.length,id:t.moveId,name:u.getMoveName(t.moveId),shortName:u.getMoveShortName(t.moveId)}})),o=d.orderBy(a,["count"],["desc"]),c=d.first(o),i="N/A";return c&&(i="".concat(c.shortName," (").concat(c.count,")")),{result:o,simple:{text:i}}}}),Object(o.a)(r,f.NEUTRAL_OPENER_MOVES,{id:f.NEUTRAL_OPENER_MOVES,name:"Most Common Neutral Opener",type:"text",calculate:function(e,t){var n=d.flatMap(e,(function(e){var n=d.get(e,["stats","conversions"])||[],r=d.filter(n,(function(e){var n=e.playerIndex===t,r="neutral-win"===e.openingType;return n&&r}));return d.map(r,(function(e){return d.first(e.moves)}))})),r=d.groupBy(n,"moveId"),a=d.map(r,(function(e){var t=d.first(e);return{count:e.length,id:t.moveId,name:u.getMoveName(t.moveId),shortName:u.getMoveShortName(t.moveId)}})),o=d.orderBy(a,["count"],["desc"]),c=d.first(o),i="N/A";return c&&(i="".concat(c.shortName," (").concat(c.count,")")),{result:o,simple:{text:i}}}}),Object(o.a)(r,f.EARLY_KILLS,{id:f.EARLY_KILLS,name:"Earliest Kill",type:"number",betterDirection:"lower",recommendedRounding:1,calculate:function(e,t){var n=d.flatMap(e,(function(e){var n=d.get(e,["stats","stocks"])||[];return d.filter(n,(function(e){var n=e.playerIndex!==t,r=null!==e.endPercent;return n&&r}))})),r=d.orderBy(n,["endPercent"],["asc"]),a=d.first(r),o={text:"N/A",number:null};return a&&(o.number=a.endPercent,o.text=o.number.toFixed(1)),{result:d.take(r,5),simple:o}}}),Object(o.a)(r,f.LATE_DEATHS,{id:f.LATE_DEATHS,name:"Latest Death",type:"number",betterDirection:"higher",recommendedRounding:1,calculate:function(e,t){var n=d.flatMap(e,(function(e){var n=d.get(e,["stats","stocks"])||[];return d.filter(n,(function(e){var n=e.playerIndex===t,r=null!==e.endPercent;return n&&r}))})),r=d.orderBy(n,["endPercent"],["desc"]),a=d.first(r),o={text:"N/A",number:null};return a&&(o.number=a.endPercent,o.text=o.number.toFixed(1)),{result:d.take(r,5),simple:o}}}),Object(o.a)(r,f.SELF_DESTRUCTS,{id:f.SELF_DESTRUCTS,name:"Total Self-Destructs",type:"number",betterDirection:"lower",recommendedRounding:0,calculate:function(e,t){var n=d.map(e,(function(e){var n=d.get(e,["stats","stocks"])||[],r=d.filter(n,(function(e){var n=e.playerIndex===t,r=null!==e.endPercent;return n&&r})),a=d.get(e,["stats","conversions"])||[],o=d.filter(a,(function(e){var n=e.playerIndex!==t,r=e.didKill;return n&&r}));return r.length-o.length})),r=d.sum(n);return{result:r,simple:{number:r,text:"".concat(r)}}}}),Object(o.a)(r,f.INPUTS_PER_MINUTE,{id:f.INPUTS_PER_MINUTE,name:"Inputs / Minute",type:"number",betterDirection:"higher",recommendedRounding:1,calculate:function(e,t){return b(e,t,"inputsPerMinute",1)}}),Object(o.a)(r,f.AVG_KILL_PERCENT,{id:f.AVG_KILL_PERCENT,name:"Average Kill Percent",type:"number",betterDirection:"lower",recommendedRounding:1,calculate:function(e,t){var n=d.flatMap(e,(function(e){var n=d.get(e,["stats","stocks"])||[];return d.filter(n,(function(e){var n=e.playerIndex!==t,r=null!==e.endPercent;return n&&r}))})),r={total:n.length,count:d.sumBy(n,"endPercent")||0};return r.ratio=r.total?r.count/r.total:null,{result:r,simple:g(r,1)}}}),Object(o.a)(r,f.HIGH_DAMAGE_PUNISHES,{id:f.HIGH_DAMAGE_PUNISHES,name:"Highest Damage Punish",type:"number",betterDirection:"higher",recommendedRounding:1,calculate:function(e,t){var n=d.flatMap(e,(function(e){var n=d.get(e,["stats","conversions"])||[];return d.filter(n,(function(e){var n=e.playerIndex===t,r=null!==e.endPercent;return n&&r}))})),r=function(e){return e.endPercent-e.startPercent},a=d.orderBy(n,[r],"desc"),o=d.first(a),c={text:"N/A",number:null};return o&&(c.number=r(o),c.text=c.number.toFixed(1)),{result:d.take(a,5),simple:c}}}),Object(o.a)(r,f.DAMAGE_DONE,{id:f.DAMAGE_DONE,name:"Total Damage Done",type:"number",betterDirection:"higher",recommendedRounding:1,calculate:function(e,t){return b(e,t,"damagePerOpening",1,"count")}}),r);function b(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"ratio",o=d.map(e,(function(e){var r=d.get(e,["stats","overall"]);return d.keyBy(r,"playerIndex")[t][n]})),c=p(o),i=g(c,r,a);return{result:c,simple:i}}function p(e){var t={};return t.count=d.sumBy(e,"count")||0,t.total=d.sumBy(e,"total")||0,t.ratio=t.total?t.count/t.total:null,t}function g(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"ratio",r={};switch(n){case"ratio":r.number=e.ratio,r.text=null!==e.ratio?e.ratio.toFixed(t):"N/A";break;case"count":r.number=e.count,r.text=e.count.toFixed(t)}return r}function v(e){var t=d.groupBy(e,(function(e){return 2===e.settings.players.length})),n=d.get(t,!1)||[];d.some(n)&&(console.log("The following games have been excluded because they are not singles games:"),d.forEach(n,(function(e){console.log(e.filePath)})),console.log());var r=d.get(t,!0)||[],a=d.chain(r).groupBy((function(e){var t=d.map(e.settings.players,"port");return d.join(t,"-")})).orderBy(["length"],["desc"]).value(),o=a.shift();if(d.some(a)){console.log("The following games have been excluded because the player ports differ:");var c=d.flatten(a);d.forEach(c,(function(e){console.log(e.filePath)})),console.log()}if(d.isEmpty(o))throw new Error("There were no valid games found to compute stats from.");return console.log("Including ".concat(o.length," games for stat calculation...")),o}function h(e){var t=d.first(e),n=d.map(t.settings.players,"playerIndex"),r=[n,d.chain(n).clone().reverse().value()];return d.flatMap(f,(function(t){var n=m[t];if(!n.calculate)return[];var o=d.map(r,(function(t){var r=n.calculate(e,t[0],t[1]);return r.port=t[0]+1,r})),c=Object(a.a)({},n);return delete c.calculate,c.results=o,[c]}))}function O(e){var t=d.orderBy(e,[function(e){return e.metadata.startAt}],["asc"]),n=function(e){return function(t){var n;return n={port:t.port,characterId:t.characterId,characterColor:t.characterColor,nametag:t.nametag,characterName:l.getCharacterName(t.characterId)},Object(o.a)(n,"characterColor",l.getCharacterColorName(t.characterId,t.characterColor)),Object(o.a)(n,"gameResult",function(e,t){var n=e.gameEnd;if(!n)return"unknown";var r=d.get(e.settings,["players"]),a=d.filter(r,(function(e){return e.playerIndex!==t})),o=d.get(a,[0,"playerIndex"]);switch(n.gameEndMethod){case 1:return"unknown";case 2:var c=d.get(e.latestFrame,"players")||[],i=d.get(c,[t,"post","stocksRemaining"]),u=d.get(c,[o,"post","stocksRemaining"]);return 0===i&&0===u?"unknown":0===i?"loser":"winner";case 7:return n.lrasInitiatorIndex===t?"loser":"winner"}return"unknown"}(e,t.playerIndex)),n}};return d.map(t,(function(e){var t=n(e);return{stage:{id:e.settings.stageId,name:i.getStageName(e.settings.stageId)},players:d.map(e.settings.players,t),startTime:e.metadata.startAt,duration:E(e.stats.lastFrame)}}))}function j(e){var t=[f.KILL_MOVES,f.NEUTRAL_OPENER_MOVES,f.OPENINGS_PER_KILL,f.DAMAGE_DONE],n=function(e){var t=e.type,n=Object(a.a)({},e);return n.results=d.map(e.results,(function(e){return d.get(e,["simple",t])})),n},r=[],o=d.keyBy(e,"id"),c=o;d.forEach(t,(function(e){var t=o[e];r.push(n(t)),delete c[e]}));var i=o[f.SELF_DESTRUCTS],u=i.results[0].simple.number,l=i.results[0].simple.number;u>1||l>1||delete c[f.SELF_DESTRUCTS];var s=d.shuffle(c),m=d.take(s,2);return d.forEach(m,(function(e){r.push(n(e))})),r}function E(e){var t=s.duration(e/60,"seconds");return s.utc(t.as("milliseconds")).format("m:ss")}function y(e){var t=h(e);return{games:O(e),summary:t,btsSummary:j(t)}}},68:function(e,t,n){"use strict";(function(e){n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return l}));var r=n(10),a=n.n(r),o=n(24),c=n(13);n(36);function i(e){return u.apply(this,arguments)}function u(){return(u=Object(o.a)(a.a.mark((function t(n){var r,o,i;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s(n);case 2:return r=t.sent,o=new Int8Array(r),i=e.from(o),t.abrupt("return",new c.SlippiGame(i));case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function l(e,t){return{filePath:e,settings:t.getSettings(),frames:t.getFrames(),stats:t.getStats(),metadata:t.getMetadata(),latestFrame:t.getLatestFrame(),gameEnd:t.getGameEnd()}}function s(e){return d.apply(this,arguments)}function d(){return(d=Object(o.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,n){var r=new FileReader;r.onabort=function(){return n("file reading was aborted")},r.onerror=function(){return n("file reading has failed")},r.readAsBinaryString?(r.addEventListener("load",(function(){for(var t=null!=this.resultString?this.resultString:this.result,n=new Uint8Array(t.length),r=0;r<t.length;r++)n[r]=t.charCodeAt(r);e(n.buffer)}),!1),r.readAsBinaryString(t)):(r.addEventListener("load",(function(){this.result?e(this.result):n("no data read")}),!1),r.readAsArrayBuffer(t))})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}}).call(this,n(29).Buffer)},95:function(e,t,n){e.exports=n.p+"static/media/powered-by.61867ea8.png"},98:function(e,t,n){e.exports=n(177)},99:function(e,t,n){}},[[98,1,2]]]);
//# sourceMappingURL=main.17111426.chunk.js.map